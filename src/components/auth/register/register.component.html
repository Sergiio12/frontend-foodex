<div class="register-container">
    <div class="register-card">
      <!-- Logo como fondo -->
      <div class="logo"></div>
  
      <!-- Título -->
      <h2 class="register-title">Crear Cuenta</h2>
      <p class="register-subtitle">Únete a nuestra plataforma y comienza tu viaje.</p>
  
      <!-- Mensaje de error -->
      <div *ngIf="errorMessage" class="error-message">
        <span>{{ errorMessage }}</span>
        <button class="close-error" (click)="closeErrorMessage()">×</button>
      </div>
  
      <!-- Formulario -->
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
        <!-- Username -->
        <div class="form-group">
          <label for="username">Usuario</label>
          <input id="username" formControlName="username" class="form-input" placeholder="Ingresa tu usuario" />
          <div *ngIf="username.invalid && submitted" class="error-text">
            <span *ngIf="username.errors?.['required']">El nombre de usuario es obligatorio.</span>
            <span *ngIf="username.errors?.['minlength']">El nombre de usuario debe tener al menos 4 caracteres.</span>
          </div>
        </div>
  
        <!-- Email -->
        <div class="form-group">
          <label for="email">Correo electrónico</label>
          <input id="email" formControlName="email" class="form-input" placeholder="Ingresa tu correo electrónico" />
          <div *ngIf="email.invalid && submitted" class="error-text">
            <span *ngIf="email.errors?.['required']">El correo electrónico es obligatorio.</span>
            <span *ngIf="email.errors?.['email']">Debe ingresar un correo electrónico válido.</span>
          </div>
        </div>
  
        <!-- Password -->
        <div class="form-group">
          <label for="password">Contraseña</label>
          <div class="password-input-container">
            <input
              [type]="showPassword ? 'text' : 'password'"
              id="password"
              formControlName="password"
              class="form-input"
              placeholder="Ingresa tu contraseña"
              maxlength="100"
            />
            <fa-icon
              [icon]="showPassword ? faEyeSlash : faEye"
              class="password-toggle-icon"
              (click)="togglePassword()"
            ></fa-icon>
          </div>
          <div *ngIf="password.invalid && submitted" class="error-text">
            <span *ngIf="password.errors?.['required']">La contraseña es obligatoria.</span>
            <span *ngIf="password.errors?.['minlength']">La contraseña debe tener al menos 8 caracteres.</span>
            <span *ngIf="password.errors?.['maxlength']">La contraseña no puede tener más de 100 caracteres.</span>
          </div>
        </div>

        <!-- Confirmar Contraseña -->
        <div class="form-group">
          <label for="confirmPassword">Confirmar contraseña</label>
          <div class="password-input-container">
            <input
              [type]="showConfirmPassword ? 'text' : 'password'"
              id="confirmPassword"
              formControlName="confirmPassword"
              class="form-input"
              placeholder="Confirma tu contraseña"
              maxlength="100"
            />
            <fa-icon
              [icon]="showConfirmPassword ? faEyeSlash : faEye"
              class="password-toggle-icon"
              (click)="toggleConfirmPassword()"
            ></fa-icon>
          </div>
          <div *ngIf="confirmPassword.invalid && submitted" class="error-text">
            <span *ngIf="confirmPassword.errors?.['required']">Debes confirmar tu contraseña.</span>
            <span *ngIf="confirmPassword.errors?.['mustMatch']">Las contraseñas no coinciden.</span>
          </div>
        </div>

  
        <!-- Botón de registro -->
        <button type="submit" class="register-button" [disabled]="loading">
          <span *ngIf="!loading">Crear cuenta</span>
          <span *ngIf="loading">
            <fa-icon [icon]="faSpinner" [ngClass]="{'fa-spin': loading}"></fa-icon> Procesando...
          </span>
        </button>
      </form>
  
      <!-- Enlace para iniciar sesión -->
      <p class="login-link">
        ¿Ya tienes una cuenta? <a href="/login">Inicia sesión</a>
      </p>
    </div>
  </div>