<div class="register-container">
  <div class="register-card">
    <!-- Logo -->
    <div class="logo"></div>

    <!-- Título -->
    <h2 class="register-title">Crear Cuenta</h2>
    <p class="register-subtitle">Únete a nuestra plataforma y comienza tu viaje.</p>

    <!-- Mensaje de error general -->
    <div *ngIf="errorMessage" class="error-message">
      <span>{{ errorMessage }}</span>
      <button class="close-error" (click)="closeErrorMessage()">×</button>
    </div>

    <!-- Formulario -->
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
      <!-- Username -->
      <div class="form-group">
        <label for="username">Usuario</label>
        <input id="username" formControlName="username" class="form-input" placeholder="Ingresa tu usuario" />
        <div *ngIf="hasError('username')" class="error-text">
          <span>{{ getErrorMessage('username') }}</span>
        </div>
      </div>

      <!-- Email -->
      <div class="form-group">
        <label for="email">Correo electrónico</label>
        <input id="email" formControlName="email" class="form-input" placeholder="Ingresa tu correo electrónico" />
        <div *ngIf="hasError('email')" class="error-text">
          <span>{{ getErrorMessage('email') }}</span>
        </div>
      </div>

      <!-- Password -->
      <div class="form-group">
        <label for="password">Contraseña</label>
        <div class="password-input-container">
          <input
            [type]="showPassword ? 'text' : 'password'"
            id="password"
            formControlName="password"
            class="form-input"
            placeholder="Ingresa tu contraseña"
            maxlength="100"
          />
          <fa-icon
            [icon]="showPassword ? faEyeSlash : faEye"
            class="password-toggle-icon"
            (click)="togglePassword()"
          ></fa-icon>
        </div>
        <div *ngIf="hasError('password')" class="error-text">
          <span>{{ getErrorMessage('password') }}</span>
        </div>
      </div>

      <!-- Confirm Password -->
      <div class="form-group">
        <label for="confirmPassword">Confirmar Contraseña</label>
        <div class="password-input-container">
          <input
            [type]="showConfirmPassword ? 'text' : 'password'"
            id="confirmPassword"
            formControlName="confirmPassword"
            class="form-input"
            placeholder="Confirma tu contraseña"
          />
          <fa-icon
            [icon]="showConfirmPassword ? faEyeSlash : faEye"
            class="password-toggle-icon"
            (click)="toggleConfirmPassword()"
          ></fa-icon>
        </div>
        <div *ngIf="hasError('confirmPassword')" class="error-text">
          <span>{{ getErrorMessage('confirmPassword') }}</span>
        </div>
      </div>

      <!-- Botón de registro -->
      <button type="submit" class="register-button" [disabled]="loading">
        <span *ngIf="!loading">Crear cuenta</span>
        <span *ngIf="loading">
          <fa-icon [icon]="faSpinner" [ngClass]="{'fa-spin': loading}"></fa-icon> Procesando...
        </span>
      </button>
    </form>

    <!-- Enlace para iniciar sesión -->
    <p class="login-link">
      ¿Ya tienes una cuenta? <a href="/login">Inicia sesión</a>
    </p>
  </div>
</div>